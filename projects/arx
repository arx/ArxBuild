#!/bin/sh

# What is the project called
project_name='Arx'

# Some additional arx-specific build options
cmake_options[minimal]='-DBUILD_EDIT_LOADSAVE=0'
cmake_options[unity]='-DUNITY_BUILD=1'
cmake_options[xtra]='-DDEBUG_EXTRA=1'
cmake_options[boostfs]='-DUSE_NATIVE_FS=0'

# As of version 1.51, parts of Boost don't work with icc in C++11 mode
# TODO see https://svn.boost.org/trac/boost/ticket/7470
cmake_options[icc]+=" -DUSE_CXX11=0"

# Finally, define the used build types.
# Each build type is an underscore-seperated list of tokens defined in
# cmake_options, compiler_options and make_options.
build_types=(
	
	'clang_debug'
	'clang_unity'
	
	'clang_libcxx_debug'
	'clang_libcxx_unity'
	'clang_libcxx_m32_debug'
	
	'ekopath_debug'
	'ekopath_unity'
	
	'icc_debug'
	'icc_unity'
	
	'gcc-4.3_debug'
	'gcc-4.3_unity'
	
	'gcc-4.4_debug'
	'gcc-4.4_unity'
	
	'gcc-4.5_debug'
	'gcc-4.5_unity'
	
	'gcc-4.6_debug'
	'gcc-4.6_unity'
	
	'gcc-4.7_debug'
	'gcc-4.7_unity'
	
	'gcc-4.8_debug'
	'gcc-4.8_unity'
	
	'gcc-4.9_debug'
	'gcc-4.9_unity'
	
	'gcc-4.7'
	'gcc-4.7_unity_debug'
	'gcc-4.7_unity_xtra'
	
	'gcc-4.7_m32_debug'
	'gcc-4.7_m32'
	
	'gcc-4.7_debug_minimal'
	'gcc-4.7_unity_minimal'
	
	'gcc-4.7_debug_boost-1.39'
	'gcc-4.7_debug_boost-1.41'
	'gcc-4.7_debug_boost-1.42'
	'gcc-4.7_debug_boost-1.45_boostfs'
	'gcc-4.7_debug_boost-1.46_boostfs'
	'gcc-4.7_debug_boost-1.47_boostfs'
	'gcc-4.7_debug_boost-1.48_boostfs'
	'gcc-4.7_debug_boost-1.49_boostfs'
	'gcc-4.7_debug_boost-1.50_boostfs'
	'gcc-4.7_debug_boost-1.51_boostfs'
	'gcc-4.7_debug_boost-1.52_boostfs'
	
	'gcc-4.7_olddeps'
	
	'clang-analyzer'
	
	'mingw_debug'
	'mingw_unity'
	
	'msvc-9.0-32_debug'
	'msvc-10.0-32_debug'
	
	# TODO build environment missing libs
	# 'gcc-freebsd-9.1-i686_static_debug'
	
	# TODO build environment missing libs
	# 'gcc-armv6j-hf_static'
	
	# TODO 'include-what-you-use'
	# TODO 'cppcheck'
	
	'style'
	
)

# Which binaries to save before nuking the build directory.
binaries=(
	'arx'
	'arxunpak'
	'arxsavetool'
	'arxcrashreporter'
)

ignored_branches=(
	'gamma'
	'renderer_stack'
	'player_cleanup'
)

false_positives+=(
	'gcc-4.8_unity*'
	'gcc-4.9_unity*'
	'ekopath_*' # compiler crashes
)